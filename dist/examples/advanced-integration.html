<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Booking Widget - Advanced Integration</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; margin: 40px; }
        .demo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0; }
        .demo-card { padding: 20px; border: 1px solid #e5e7eb; border-radius: 8px; background: #f9fafb; }
        .btn { background: #3b82f6; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; margin: 4px; }
        .btn:hover { background: #2563eb; }
        .btn.secondary { background: #6b7280; }
        .btn.secondary:hover { background: #4b5563; }
        .code { background: #f3f4f6; padding: 12px; border-radius: 4px; font-family: monospace; font-size: 14px; margin: 8px 0; }
    </style>
</head>
<body>
    <h1>üéØ Universal Booking Widget - Advanced Demo</h1>
    
    <div class="demo-grid">
        <div class="demo-card">
            <h3>üé™ Event Ticketing</h3>
            <div class="code">businessType: 'events'</div>
            <button onclick="showDemo('events', '#3b82f6', 'EventHub')" class="btn">Demo Events</button>
        </div>

        <div class="demo-card">
            <h3>üè® Hotel Booking</h3>
            <div class="code">businessType: 'hotel'</div>
            <button onclick="showDemo('hotel', '#10b981', 'Grand Hotel')" class="btn">Demo Hotel</button>
            <p><small>‚ö†Ô∏è Not implemented yet</small></p>
        </div>

        <div class="demo-card">
            <h3>üçΩÔ∏è Restaurant</h3>
            <div class="code">businessType: 'restaurant'</div>
            <button onclick="showDemo('restaurant', '#f59e0b', 'Fine Dining')" class="btn">Demo Restaurant</button>
            <p><small>‚ö†Ô∏è Not implemented yet</small></p>
        </div>

        <div class="demo-card">
            <h3>üè† Upside Down House</h3>
            <div class="code">businessType: 'udh'</div>
            <button onclick="showDemo('udh', '#8b5cf6', 'UDH Experience')" class="btn">Demo UDH</button>
            <p><small>‚ö†Ô∏è Not implemented yet</small></p>
        </div>
    </div>

    <div style="margin-top: 40px;">
        <h2>üõ†Ô∏è Widget Controls</h2>
        <button onclick="getWidgetInfo()" class="btn secondary">Get Widget Info</button>
        <button onclick="destroyAll()" class="btn secondary">Destroy All</button>
    </div>

    <!-- Load the Universal Booking Widget -->
    <script src="../universal-booking-widget.min.js"></script>
    
    <script>
        function showDemo(businessType, color, companyName) {
            // Close existing widgets
            UniversalBookingWidget.destroyAll();
            
            // Open new widget
            setTimeout(() => {
                const widget = UniversalBookingWidget.init({
                    businessType: businessType,
                    branding: {
                        primaryColor: color,
                        companyName: companyName
                    },
                    apiBaseUrl: 'http://127.0.0.1:8000/api'
                });
                widget.open();
            }, 300);
        }

        function getWidgetInfo() {
            const instances = UniversalBookingWidget.getInstances();
            const config = UniversalBookingWidget.getConfig();
            
            alert(`Active widgets: ${instances.length}
Supported types: ${UniversalBookingWidget.getSupportedBusinessTypes().join(', ')}
Current config: ${JSON.stringify(config, null, 2)}`);
        }

        function destroyAll() {
            UniversalBookingWidget.destroyAll();
            alert('All widgets destroyed!');
        }

        console.log('‚úÖ Advanced demo loaded');
    </script>
</body>
</html>